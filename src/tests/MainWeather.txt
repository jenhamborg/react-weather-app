import React from "react";
import axios from "axios";
import { act, cleanup, fireEvent, render } from "@testing-library/react";
import MainWeather from "../components/views/mainWeather";

jest.mock("axios");

describe("MainWeather Single Page View", () => {
  afterEach(() => {
    cleanup;
  });

 

  it("calls axios.get on enter in search input", async () => {
    const { getByLabelText } = render(<MainWeather />);

    const input = getByLabelText("search by city or zip code");

    fireEvent.change(input, { target: { value: "55044" } });
    fireEvent.keyPress(input, { key: "Enter", code: 13, charCode: 13 });

    // expect(axios.get).toHaveBeenCalledTimes(1);
  });
});
